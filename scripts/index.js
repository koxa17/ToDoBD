const btn=document.querySelectorAll('.header a[href=""]');function addListenerForBtn(btn){btn.addEventListener("click",(function(){searchForm(event)}))}function searchForm(event){const form=document.forms[event.target.dataset.form];form.addEventListener("submit",sendForm.bind(form),{once:!0})}btn.forEach(addListenerForBtn);class User{static fetch(token){return token?fetch("https://ratatype-c2d32.firebaseio.com/tasks.json?auth="+token).then(response=>response.json()).then(data=>data).then(tasks=>{if(tasks&&tasks.error)return`<p class="error">${tasks.error}</p>`;document.location.href="app.html"}):Promise.resolve("<p>Увас нет токена!</p>")}}function authWithEmailAndPassword(email,pass){return fetch("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDhOh7k8JVKCa7_WIc9Mq2SM8IbQmXDmlE",{method:"POST",body:JSON.stringify({email:email,password:pass,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then(response=>response.json()).then(data=>{if(data.error.code>=400)throw data.error;return data})}function sendForm(event){event.preventDefault();const valueInput=Array.from(this.elements.input).map(item=>item.value);authWithEmailAndPassword(valueInput[0],valueInput[1])}
//# sourceMappingURL=index.js.map
